---
sidebar_position: 1
---

# Open API æ•™ç¨‹ä¸æœ€ä½³å®è·µ

## 1. å‡†å¤‡å·¥ä½œ

### 1.1 æ³¨å†Œ

åœ¨ä½¿ç”¨ open API å‰ï¼Œé¦–å…ˆéœ€è¦åœ¨é‡‘è‰²ä¼ è¯´ï¼ˆä¸»ç½‘ç¯å¢ƒï¼š[https://jinse.cc/](https://jinse.cc/) ï¼Œæµ‹è¯•ç½‘ç¯å¢ƒï¼š[https://staging.nervina.c](https://staging.nervina.cn)[n](https://staging.nervina.cn) ï¼‰ä¸Šè¿›è¡Œæ³¨å†Œï¼Œè¯¥å¸å·å°†ä¼šæˆä¸ºé€šè¿‡ open API è®¾è®¡å’Œå‘è¡Œç§˜å®çš„åˆ›ä½œè€…ï¼Œç›¸å…³æ•°æ®å¯ä»¥é€šè¿‡åœ¨é‡‘è‰²ä¼ è¯´å¹³å°ç™»å½•è¯¥å¸å·è¿›è¡ŒæŸ¥çœ‹ã€‚

æµ‹è¯•ç¯å¢ƒè¯·æ±‚åœ°å€ä¸ºï¼š[https://goldenlegend.staging.nervina.cn/api/v1/](https://goldenlegend.staging.nervina.cn/api/v1/)

æ­£å¼ç¯å¢ƒè¯·æ±‚åœ°å€ä¸ºï¼š[https://goldenlegend.nervina.cn/api/v1/](https://goldenlegend.nervina.cn/api/v1/)

å‘è¡Œå¹³å°é‡‘è‰²ä¼ è¯´æ­£å¼ç¯å¢ƒï¼š[https://jinse.cc](https://jinse.cc)

å‘è¡Œå¹³å°é‡‘è‰²ä¼ è¯´æµ‹è¯•ç¯å¢ƒï¼š[https://staging.nervina.cn](https://staging.nervina.cn)

é’±åŒ…æ­£å¼ç¯å¢ƒï¼š[https://mibao.net](https://mibao.net)

é’±åŒ…æµ‹è¯•ç¯å¢ƒï¼š[https://wallet.staging.nervina.cn](https://wallet.staging.nervina.cn)

### 1.2 è®¾ç½®å…¬å¼€ä¿¡æ¯

å®Œæˆæ³¨å†Œåï¼Œå¿…é¡»é¦–å…ˆè®¾ç½®åˆ›ä½œè€…ï¼ˆissuerï¼‰å…¬å¼€ä¿¡æ¯æ‰å¯ä»¥è¿›è¡Œåç»­æ“ä½œã€‚è¿™é‡Œè®¾ç½®çš„å…¬å¼€ä¿¡æ¯ä¼šåœ¨é“¾ä¸Šå…¬å¼€å­˜å‚¨ï¼Œä¸Šé“¾æ“ä½œç”±é‡‘è‰²ä¼ è¯´å¹³å°è‡ªåŠ¨å®Œæˆï¼Œè®¾è®¡å’Œå‘è¡Œç§˜å®å‡ç½®åäºè¯¥æ­¥éª¤ï¼Œå› æ­¤æ³¨å†Œåå¿…é¡»æ‰§è¡Œæ­¤æ“ä½œã€‚

### 1.3 ç”³è¯· open API çš„ key å’Œ secret

open API çš„é‰´æƒéœ€è¦å“åº”çš„ key-secretï¼Œåœ¨å®Œæˆä¸Šè¿°ä¸¤æ­¥æ“ä½œä¹‹åï¼Œå¯ä»¥å‘é€é‚®ä»¶åˆ° biz@nervina.io è¿›è¡Œç”³è¯·ï¼Œå†…å®¹å¿…é¡»åŒ…å«è¦ç”³è¯· key-secret çš„å¸å·çš„æ³¨å†Œé‚®ç®±ã€‚

### 1.4 èƒ½é‡ç‚¹å……å€¼

åœ¨é‡‘è‰²ä¼ è¯´å¹³å°è®¾è®¡å’Œåˆ†å‘ç§˜å®éƒ½éœ€è¦æ¶ˆè€—èƒ½é‡ç‚¹ï¼ˆè®¾è®¡ç§˜å®æ¶ˆè€— 1 èƒ½é‡ç‚¹ï¼›æ¯åˆ†å‘ä¸€ä¸ªç§˜å®æ¶ˆè€— 1 èƒ½é‡ç‚¹ï¼‰ï¼›åœ¨è¿›è¡Œåˆ›ä½œå’Œå‘è¡Œå‰éœ€è¦è¿›è¡Œèƒ½é‡ç‚¹å……å€¼ã€‚

å®Œæˆä¸Šè¿°æ“ä½œåï¼Œå³å¯é€šè¿‡ open API åœ¨é‡‘è‰²ä¼ è¯´å¹³å°è¿›è¡Œæ“ä½œã€‚

## 2. å¼€æ”¾ API ç­¾åç®—æ³•

ä¸ºäº†ä¿è¯å®‰å…¨æ€§ï¼Œç”¨æˆ·åœ¨ HTTP è¯·æ±‚ä¸­å¢åŠ  Authorization çš„ Header æ¥åŒ…å«ç­¾åä¿¡æ¯ï¼Œè¡¨æ˜è¿™ä¸ªæ¶ˆæ¯å·²è¢«æˆæƒã€‚

### 2.1 Authorization å­—æ®µè®¡ç®—çš„æ–¹æ³•

```plain
Authorization = 'NFT ' + AccessKeyId + ':' + Signature
Signature = base64(hmac-sha1(AccessKeySecret,
              VERB + '\n'
              + FULLPATH + '\n'
              + Content-MD5 + '\n'
              + Content-Type + '\n'
              + Date))
```
* `AccessKeyId` å³ä¸ºé€šè¿‡é‚®ä»¶ç”³è¯·è·å–åˆ°çš„ open API çš„ key
* `AccessKeySecret` å³ä¸ºé€šè¿‡é‚®ä»¶ç”³è¯·è·å–åˆ°çš„ open API çš„ secret
* `VERB` è¡¨ç¤ºè¯·æ±‚çš„ methodï¼ŒåŒ…æ‹¬ GETã€POSTã€PUT ç­‰
* `\n` è¡¨ç¤ºæ¢è¡Œç¬¦
* `FULLPATH` è¡¨ç¤ºè¯·æ±‚çš„ endpointï¼Œå¦‚æœæœ‰ query-stringï¼Œä¹Ÿéœ€è¦åŒ…å«åœ¨å†…
* `Content-MD5` è¡¨ç¤ºè¯·æ±‚å†…å®¹æ•°æ®çš„ MD5 å€¼ï¼Œå¯¹æ¶ˆæ¯å†…å®¹ï¼ˆä¸åŒ…æ‹¬å¤´éƒ¨ï¼‰è®¡ç®— MD5 å€¼è·å¾— 128 æ¯”ç‰¹ä½æ•°å­—ï¼Œç„¶åå¯¹è¯¥æ•°å­—è¿›è¡Œ base64 ç¼–ç å³å¯å¾—åˆ°ã€‚è¯¥è¯·æ±‚å¤´å¯ç”¨äºæ¶ˆæ¯åˆæ³•æ€§çš„æ£€æŸ¥ï¼ˆæ¶ˆæ¯å†…å®¹æ˜¯å¦ä¸å‘é€æ—¶ä¸€è‡´ï¼‰ï¼›å½“æ­£æ–‡ä¸ºç©ºæ—¶ï¼ŒContent-MD5 ç•™ç©ºå³å¯ã€‚è¯¦æƒ…å¯å‚çœ‹ [RFC2616 Content-MD5](https://www.ietf.org/rfc/rfc2616.txt)
* `Content-Type` è¡¨ç¤ºè¯·æ±‚å†…å®¹çš„ç±»å‹ï¼Œå¦‚  `application/json` ï¼Œä¹Ÿå¯ä»¥ä¸ºç©º
* `Date` è¡¨ç¤ºæ­¤æ¬¡æ“ä½œçš„æ—¶é—´ï¼Œå¿…é¡»ä¸º GMT æ ¼å¼ï¼Œå¦‚  `Sun, 22 Nov 2015 08:16:38 GMT` 

ä¸Šè¿° headers ä¸­ï¼Œ `Date` å’Œ  `Content-Type` ä¸ºå¿…é¡»åŒ…å«çš„å­—æ®µï¼Œä¸”  `Date` ä¸­çš„æ—¶é—´å’Œé‡‘è‰²ä¼ è¯´æœåŠ¡å™¨çš„æ—¶é—´ç›¸å·®ä¸èƒ½è¶…è¿‡ 15 åˆ†é’Ÿï¼Œå¦åˆ™é‡‘è‰²ä¼ è¯´æœåŠ¡å™¨å°†æ‹’ç»è¯¥è¯·æ±‚ï¼Œå¹¶è¿”å› 403 é”™è¯¯ã€‚

åœ¨è®¡ç®—ç­¾åæ—¶ï¼Œ `Content-Type` å’Œ  `Content-MD5` å¯ä»¥ä¸ºç©ºå­—ç¬¦ï¼Œä½†ä¸èƒ½çœç•¥ã€‚

### 2.2 è®¡ç®—è§„åˆ™

* ç­¾åçš„å­—ç¬¦ä¸²å¿…é¡»ä¸º  `UTF-8` æ ¼å¼ï¼Œå«æœ‰ä¸­æ–‡å­—ç¬¦çš„ç­¾åå­—ç¬¦ä¸²å¿…é¡»å…ˆè¿›è¡Œ  `UTF-8` ç¼–ç ï¼Œå†è¿›è¡Œåç»­è®¡ç®—ã€‚
* ç­¾åçš„æ–¹æ³•ä¸º RFC 2014 ä¸­å®šä¹‰çš„  `HMAC-SHA1` æ–¹æ³•ï¼Œå…¶ä¸­ key ä¸º  `AccessKeySecret` 
* `Content-Type` å’Œ  `Content-MD5` åœ¨è¯·æ±‚ä¸­ä¸æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœä¸ºç©ºæ—¶ï¼Œç•™ç©ºå³å¯

### 2.3 Python ä»£ç ç¤ºä¾‹

Python ç‰ˆæœ¬ä¸º 3.9.1ã€‚ç¤ºä¾‹ä¸­ï¼Œ `AccessKeyId = '44CF9590006BF252F707'` ï¼Œ `AccessKeySecret = 'OtxrzxIsfpFjA7SwPzILwy8Bw21TLhquhboDYROV'` 

```plain
# è¯·æ±‚
GET /api/v1/token_classes
Content-MD5: ''
Content-Type: 'application/json'
Date: Tue, 06 Jul 2021 00:00:34 GMT

# ç­¾åå­—ç¬¦ä¸²ä¸º
'GET\n/api/v1/token_classes\n\napplication/json\nTue, 06 Jul 2021 00:00:34 GMT'
```
Python ä»£ç å¦‚ä¸‹ï¼š
```python
import base64
import hmac
import hashlib
from datetime import datetime

def get_signature(secret, method, endpoint, content, gmt, content_type='application/json'):
    if content:
        content_md5 = base64.b64encode(
            hashlib.md5(content.encode('utf-8')).digest()).decode('utf-8')
    else:
        content_md5 = ''
    msg = f'{method}\n{endpoint}\n{content_md5}\n{content_type}\n{gmt}'
    h = hmac.digest(secret.encode('utf-8'), msg.encode('utf-8'), hashlib.sha1)
    signature = base64.b64encode(h).decode('utf-8')
    return signature

key = '44CF9590006BF252F707'
secret = 'OtxrzxIsfpFjA7SwPzILwy8Bw21TLhquhboDYROV'
method = 'GET'
endpoint = '/api/v1/token_classes'
content = ''
content_type = 'application/json'
gmt = 'Tue, 06 Jul 2021 00:00:34 GMT'

signature = get_signature(secret, method, endpoint, content, gmt, content_type)    # SXc3VHXXbU08qzYdAm1RvwMWaUw=
auth = f'NFT {key}:{signature}'
print(auth)    # NFT 44CF9590006BF252F707:SXc3VHXXbU08qzYdAm1RvwMWaUw=
```
å¾—åˆ°  `auth` åï¼Œæœ€ç»ˆçš„è¯·æ±‚ä¸ºï¼š
```plain
GET /api/v1/token_classes
Content-MD5: ''
Content-Type: 'application/json'
Date: Tue, 06 Jul 2021 00:00:34 GMT
Authorization: NFT 44CF9590006BF252F707:SXc3VHXXbU08qzYdAm1RvwMWaUw=
```
### 2.4 å¸¸è§é”™è¯¯

* å¦‚æœä¼ å…¥çš„  `AccessKeyId` ä¸å­˜åœ¨æˆ– inactiveï¼Œè¿”å› 403 Forbidden, InvalidAccessKeyId
* å¦‚æœè¯·æ±‚å¤´ä¸­çš„  `Authorization` æ ¼å¼ä¸å¯¹ï¼Œè¿”å› 400 Bad Request, InvalidArgument
* GMT æ—¶é—´æ ¼å¼å¿…é¡»ä¸º  `%a, %d %b %Y %H:%M:%S GMT` 
    * å¦‚æœç­¾åéªŒè¯æ—¶ï¼Œæ²¡æœ‰ä¼ å…¥  `Date` æˆ–æ ¼å¼ä¸æ­£ç¡®ï¼Œè¿”å› 403 Forbidden, AccessDenied
    * å¦‚æœä¼ å…¥çš„æ—¶é—´ä¸æœåŠ¡å™¨æ—¶é—´å·®å¤§äº 15 åˆ†é’Ÿï¼Œè¿”å› 403 Forbidden, RequestTimeTooSkewed

## 3. æœ¯è¯­è¯´æ˜
* `token_class` : å¯ä»¥ç†è§£ä¸ºç§˜å®çš„æ¨¡å…·ï¼ŒåŒ…å«ç§˜å®çš„åŸºæœ¬ä¿¡æ¯ï¼Œå°†ä¼šåœ¨é“¾ä¸Šå­˜å‚¨ï¼›ä¸€ä¸ªç§˜å®å¿…é¡»å…ˆè¢«è®¾è®¡å‡ºç§˜å®æ¨¡å…·ï¼Œé€šè¿‡ç§˜å®æ¨¡å…·æ‰èƒ½è¿›è¡Œé“¸é€ å’Œåˆ†å‘ã€‚
* `uuid` : ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨è€Œè¢«åˆ›å»ºå‡ºæ¥çš„ä¸€ç§ idï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š
    * `token_class_uuid` : å…³è”åˆ°å¯¹åº”çš„  `token_class` 
    * `token_uuid` : å…³è”åˆ°å…·ä½“çš„ NFT Token
    * `tx_uuid` : å…³è”åˆ†å‘å’Œè½¬è®©çš„äº¤æ˜“
* `address` : ckb åœ°å€
* `nft_type_args` : NFT Token Cell çš„ Type Script ä¸­çš„  `args` å­—æ®µ

## 4. è®¾è®¡ç§˜å®ã€é“¸é€ å’Œåˆ†å‘ç§˜å®

ç›¸å…³ä»£ç å¯ä»¥å‚è€ƒï¼š [https://github.com/nervina-labs/nft_open_api_demo_python](https://github.com/nervina-labs/nft_open_api_demo_python)

### 4.1 è®¾è®¡ç§˜å®

ç›¸å…³æ–‡æ¡£ï¼š[POST /](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[t](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[ok](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[e](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[n](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[_](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[c](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[l](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[as](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[s](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)[es](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes)

è®¾è®¡ç§˜å®å¿…é¡»åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

* name: ç§˜å®çš„åç§°ï¼Œä¸è¶…è¿‡ 30 ä¸ªå­—ç¬¦ï¼ˆä¸€æ—¦åˆ›å»ºï¼Œä¸å¯ä¿®æ”¹ï¼‰
* description: ç§˜å®çš„ç®€ä»‹ï¼Œä¸è¶…è¿‡ 200 ä¸ªå­—ç¬¦ï¼ˆä¸€æ—¦åˆ›å»ºï¼Œä¸å¯ä¿®æ”¹ï¼‰
* total: éè´Ÿæ•´æ•°ï¼Œä¸º 0 æ—¶ï¼Œè¡¨ç¤ºç§˜å®ä¸é™é‡ï¼›å¤§äº 0 æ—¶ï¼Œè¡¨ç¤ºç§˜å®é™é‡çš„æ•°é‡
* renderer: ç§˜å®çš„åª’ä½“ä¿¡æ¯ï¼Œå¿…é¡»ä¸ºä»¥  `https://` å¼€å¤´ã€åª’ä½“ä¿¡æ¯æœ‰æ•ˆçš„ urlï¼Œä¸”ä¸è¶…è¿‡ 255 å­—ç¬¦ï¼ˆç§˜å®è®¾è®¡å®Œæˆåï¼Œ30 å¤©å†…å¯ä¿®æ”¹ä¸€æ¬¡ rendererï¼‰
    * renderer ä¸ºå›¾ç‰‡ï¼šæ”¯æŒæ ¼å¼ä¸º png, jpg, jpeg, gif, webp å’Œ svg 6 ç§æ ¼å¼ï¼Œå¿…é¡»ä»¥  `https://` å¼€å¤´ï¼Œä¸”ç»“å°¾ä¸º `png | jpg | jpeg | gif | webp | svg`ã€‚
    * renderer ä¸ºéŸ³é¢‘æˆ–è§†é¢‘ï¼šæ”¯æŒæ ¼å¼ä¸º mp3, wav, mp4 å’Œ webm 4 ç§æ ¼å¼ï¼Œå¿…é¡»ä»¥  `https://` å¼€å¤´ï¼Œä¸”ç»“å°¾ä¸º  `mp3 | wav | mp4 | webm`ã€‚å½“ renderer ä¸ºéŸ³è§†é¢‘æ—¶ï¼ŒåŒæ—¶éœ€è¦ä¼ å…¥å‚æ•°  `cover_image_url` ç”¨äºè®¾ç½® NFT å°é¢ï¼Œæ ¡éªŒè§„åˆ™ä¸å›¾ç‰‡æ ¼å¼çš„ renderer ä¸€è‡´ã€‚

è®¾è®¡çš„ç§˜å® token class ä¼šä¸Šé“¾ï¼Œä¸Šé“¾æ“ä½œç”±å¹³å°å®Œæˆã€‚

ä»£ç ç¤ºä¾‹ï¼š

```python
import json
import requests

key = ''
secret = ''
method = 'POST'
endpoint = '/token_classes'
content = {
    'name': 'New Token Class Example',
    'description': 'Create Token Class by Open API',
    'total': '0',
    'renderer': 'https://oss.jinse.cc/production/7ea62f75-bec0-4cdc-b81a-d59d7f40ace1.jpg'
}
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=json.dumps(content))
```
è¿”å›ï¼š
```json
{
    'name': 'New Token Class Example', 
    'description': 'Create Token Class by Open API', 
    'issued': '0', 
    'renderer': 'https://oss.jinse.cc/production/7ea62f75-bec0-4cdc-b81a-d59d7f40ace1.jpg', 
    'uuid': 'e6469650-6ac5-4477-a64b-2a97f4168356', '
    total': '0', 
    'tags': []
}
```
å…¶ä¸­ï¼Œ `uuid` ä¸ºå¹³å°ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯† token class id
```python
# å¦‚æœåˆ›å»ºéŸ³é¢‘æˆ–è§†é¢‘æ ¼å¼çš„ç§˜å®ï¼Œåˆ™ content å¦‚ä¸‹æ‰€ç¤ºï¼š
content = {
    'name': 'New Token Class Example',
    'description': 'Create Token Class by Open API',
    'total': '0',
    'renderer': 'https://oss.jinse.cc/production/583b109e-1fc3-42bd-937f-f4935ae80167.mp4',
    'cover_image_url': 'https://oss.jinse.cc/production/7ea62f75-bec0-4cdc-b81a-d59d7f40ace1.jpg'
}
```
* åœ¨è®¾è®¡ç§˜å®æ—¶æä¾›å¯é€‰å‚æ•°`configure`ï¼Œç”¨äºè®¾ç½® NFT class cell çš„ `configure`ï¼Œé‡‘è‰²ä¼ è¯´å¹³å°é»˜è®¤è®¾ç½®ä¸º `11000000`ï¼Œ ç›¸å…³ä¿¡æ¯å¯å‚è€ƒï¼š[https://talk.nervos.org/t/rfc-multi-purpose-nft-draft-spec/5434](https://talk.nervos.org/t/rfc-multi-purpose-nft-draft-spec/5434)ã€‚ `configure` æ ¼å¼åº”ä¸ºç±»ä¼¼  `11000000` çš„ 8 ä½äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¼šè¿”å›  `configure field format error` 

è¯·æ±‚ç¤ºä¾‹ï¼š 

```python
# å¯é€‰å‚æ•° configure è®¾ç½® NFT class cell çš„ configure
content = {
    'name': 'New Token Class with Configure Example',
    'description': 'Create Token Class by Open API',
    'total': '0',
    'configure': '00000000',
    'renderer': 'https://oss.jinse.cc/production/7ea62f75-bec0-4cdc-b81a-d59d7f40ace1.jpg'
}
```
### 4.2 æŸ¥è¯¢ token class

ç›¸å…³æ–‡æ¡£ï¼š[GET /token_classes/{uuid}](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/get_token_classes__uuid__)

æŸ¥è¯¢å­—æ®µï¼š

* `uuid` : åœ¨åˆ›å»º token class æ—¶è¿”å›çš„ uuid

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
uuid = '7b1eb753-77a8-46ec-ad8a-d78bc204b8d3'
endpoint = f'/token_classes/{uuid}'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers)
```
è¿”å›ï¼š
```json
{
Â  "name": "New token class",
Â  "description": "New token class description",
Â  "issued": "0",
Â  "renderer": "https://oss.jinse.cc/production/8ee71e29-3b10-4d15-b68c-380c7840c653.jpeg",
Â  "uuid": "7b1eb753-77a8-46ec-ad8a-d78bc204b8d3",
Â  "total": "0",
Â  "verified_info": {
Â  Â  "is_verified": true,
Â  Â  "verified_title": "é‡‘è‰²ä¼ è¯´å®˜æ–¹è®¤è¯",
Â  Â  "verified_source": "official"
Â  },
Â  "tags": []
}
```
### 4.3 æŸ¥è¯¢é‡‘è‰²ä¼ è¯´è´¦æˆ·ä¸‹æ‰€æœ‰çš„ token class

ç›¸å…³æ–‡æ¡£ï¼š[GET /token_classes](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/get_token_classes)

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
endpoint = '/token_classes'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers)
```
è¿”å›ï¼š
```json
{
Â  "token_classes": [
Â  Â  {
Â  Â  Â  "name": "New token class",
Â  Â  Â  "description": "New token class description",
Â  Â  Â  "issued": "0",
Â  Â  Â  "renderer": "https://oss.jinse.cc/production/8ee71e29-3b10-4d15-b68c-380c7840c653.jpeg",
Â  Â  Â  "uuid": "7b1eb753-77a8-46ec-ad8a-d78bc204b8d3",
Â  Â  Â  "total": "0",
Â  Â  Â  "is_banned": false,
Â  Â  Â  "verified_info": {
Â  Â  Â  Â  "is_verified": true,
Â  Â  Â  Â  "verified_title": "é‡‘è‰²ä¼ è¯´å®˜æ–¹è®¤è¯",
Â  Â  Â  Â  "verified_source": "official"
Â  Â  Â  },
Â  Â  Â  "tags": []
Â  Â  },
    ...
Â  ],
Â  "meta": {
Â  Â  "next_cursor": "1314",
Â  Â  "has_banned_items": true
Â  }
}
```
### 4.4 é“¸é€ å¹¶åˆ†å‘ç§˜å®

ç›¸å…³æ–‡æ¡£ï¼š[POST /token_classes/{token_class_uuid}/tokens](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/post_token_classes__token_class_uuid__tokens)

æŸ¥è¯¢å­—æ®µï¼š

* `token_class_uuid` : è®¾è®¡ç§˜å®æ—¶è¿”å›çš„ token class uuid

è¯·æ±‚å­—æ®µï¼š

* `addresses` : ä¸€ä¸ªç”± ckb åœ°å€ç»„æˆçš„åˆ—è¡¨

ä»£ç ç¤ºä¾‹ï¼š

```python
import json
import requests

key = ''
secret = ''
method = 'POST'
uuid = 'e6469650-6ac5-4477-a64b-2a97f4168356'
address = 'ckt1q3vvtay34wndv9nckl8hah6fzzcltcqwcrx79apwp2a5lkd07fdxxqycw877rwy0uuwspsh9cteaf8kqp8nzjl0dxfp'
endpoint = f'/token_classes/{uuid}/tokens'
content = {
    'addresses': [
        address,
        address
    ]
}
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=json.dumps(content))
```
è¿”å›ï¼š
```json
[
    {
        'uuid': 'e7c87177-2461-4ea1-8b8f-35d8b2ca34ea', 
        'oid': '3eefc8278f217311c88c446731b703d7', 
        'version': 0, 
        'characteristic': '0000000000000000', 
        'issuer_id': 1, 
        'token_class_id': 626, 
        'state': 'pending', 
        'configure': 192, 
        'n_issuer_id': '0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf', 
        'n_state': 0, 
        'created_at': '2021-07-06T01:57:48.140Z', 
        'updated_at': '2021-07-06T01:57:48.140Z'
    }, {
        'uuid': 'a46916b6-b180-4020-ab2b-59377fe3d9e9', 
        'oid': '3eefc8278f217311c88c446731b703d7', 
        'version': 0, 
        'characteristic': '0000000000000000', 
        'issuer_id': 1, 
        'token_class_id': 626, 
        'state': 'pending', 
        'configure': 192, 
        'n_issuer_id': '0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf', 
        'n_state': 0, 
        'created_at': '2021-07-06T01:57:48.140Z', 
        'updated_at': '2021-07-06T01:57:48.140Z'
    }
]
```
å…¶ä¸­ï¼Œ  `uuid` æ˜¯å…·ä½“çš„ NFT token id

### 4.5 æŸ¥è¯¢ NFT token

ç›¸å…³æ–‡æ¡£ï¼š[GET /tokens/{token_uuid}](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/get_tokens__uuid_)

æŸ¥è¯¢å‚æ•°ï¼š

* `token_uuid` : é“¸é€ å¹¶åˆ†å‘ç§˜å®æ—¶è¿”å›çš„ token uuid

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
token_uuid = '992179fc-515e-42d7-b731-79ae23c92f6c'
endpoint = f'/tokens/{token_uuid}'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers)
```
è¿”å›ï¼š
```json
{
Â  "name": "First NFT 009ğŸ˜„",
Â  "description": "first nft 009\nasdfasdfas",
Â  "issued": "6",
Â  "total": "11",
Â  "bg_image_url": "https://img.ggg.com/xxxxxx.jpg",
Â  "issuer_info": {
Â  Â  "name": "Alice",
Â  Â  "avatar_url": null,
Â  Â  "uuid": "6c7d8931-d3ef-4fbb-ae70-0db1c9353f81"
Â  },
Â  "tx_state": "committed",
Â  "class_uuid": "6bf5ae4f-c941-460a-bdc7-1e67115ee740",
Â  "from_address": "6c7d8931-d3ef-4fbb-ae70-0db1c9353f81",
Â  "to_address": "ckt1qyqt8lh56d05m9ylnme0rks5phx75pk7ppjqkjmndc",
Â  "is_class_banned": false,
Â  "is_issuer_banned": false,
Â  "n_token_id": 5,
Â  "verified_info": {
Â  Â  "is_verified": null,
Â  Â  "verified_title": "",
Â  Â  "verified_source": ""
Â  },
Â  "class_likes": 0,
Â  "class_liked": false,
Â  "uuid": "992179fc-515e-42d7-b731-79ae23c92f6c",
Â  "created_at": "2021-07-22T08:46:22.589Z",
Â  "distribution_method": "send",
Â  "tx_hash": "0x01c308910bc4840c1cde69d15365a9f3b8c4756b955255843c5c7d5046b27f47",
Â  "tx_uuid": "71e5d500-f0b1-4d47-8206-54ec09a09897"
}
```
### 4.6 æ ¹æ® token id æŸ¥è¯¢æŒæœ‰è€…åœ°å€

ç›¸å…³æ–‡æ¡£ï¼š[GET /tokens/{token_uuid}/address](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/default/get_tokens__uuid__address)

æŸ¥è¯¢å‚æ•°ï¼š

* `token_uuid` : é“¸é€ å¹¶åˆ†å‘åè¿”å›çš„ token uuid

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
token_uuid = 'fd9b685b-a37f-45e5-81cf-0043433460b8'
endpoint = f'/tokens/{token_uuid}/address'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=content)
```
è¿”å›ï¼š
```json
{
    'address': 'ckt1qjda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xws7nx9v0ycll73vnzpsc0nvm3rh8jkc5g2a7xm59'
}
```
 
## 5. NFT æŒæœ‰è€…ç›¸å…³æŸ¥è¯¢

### 5.1 æŸ¥è¯¢åœ°å€æ‰€æŒæœ‰çš„ NFT

ç›¸å…³æ–‡æ¡£ï¼š[GET /indexer/holder_tokens/{address}](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/indexer/get_indexer_holder_tokens__address_)

æŸ¥è¯¢å‚æ•°ï¼š

* `address` : è¦æŸ¥è¯¢çš„ ckb åœ°å€

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
address = 'ckt1q3vvtay34wndv9nckl8hah6fzzcltcqwcrx79apwp2a5lkd07fdxxqycw877rwy0uuwspsh9cteaf8kqp8nzjl0dxfp'
endpoint = f'/indexer/holder_tokens/{address}'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=content)
```
è¿”å›ï¼š
```json
{
Â  Â  'holder_address': 'ckt1q3vvtay34wndv9nckl8hah6fzzcltcqwcrx79apwp2a5lkd07fdxxqycw877rwy0uuwspsh9cteaf8kqp8nzjl0dxfp',
Â  Â  'meta': {
Â  Â  Â  Â  'total_count': 9,
Â  Â  Â  Â  'max_page': 1,
Â  Â  Â  Â  'current_page': 1
Â  Â  },
Â  Â  'token_list': [
Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  'token_uuid': 'a46916b6-b180-4020-ab2b-59377fe3d9e9',
Â  Â  Â  Â  Â  Â  'n_token_id': 1,
Â  Â  Â  Â  Â  Â  'class_uuid': 'e6469650-6ac5-4477-a64b-2a97f4168356',
Â  Â  Â  Â  Â  Â  'class_name': 'New Token Class Example',
Â  Â  Â  Â  Â  Â  'class_bg_image_url': 'https://examples.jpg',
Â  Â  Â  Â  Â  Â  'class_description': 'Create Token Class by Open API',
Â  Â  Â  Â  Â  Â  'class_total': '0',
Â  Â  Â  Â  Â  Â  'class_issued': '2',
Â  Â  Â  Â  Â  Â  'is_class_banned': false,
Â  Â  Â  Â  Â  Â  'tx_state': 'committed',
Â  Â  Â  Â  Â  Â  'issuer_name': 'åå­—å¾ˆé•¿çš„åˆ›ä½œè€…åå­—å¾ˆé•¿çš„åˆ›ä½œè€…åå¾ˆé•¿çš„åˆ›ä½œè€…åå­—å¾ˆé•¿çš„åˆ›',
Â  Â  Â  Â  Â  Â  'issuer_avatar_url': 'https://images.pexels.com/photos/3396664/peels-photo-3396664.jpeg',
Â  Â  Â  Â  Â  Â  'issuer_uuid': 'f0d044c2-9ddb-4406-87b3-b281fbb27a76',
Â  Â  Â  Â  Â  Â  'is_issuer_banned': false,
Â  Â  Â  Â  Â  Â  'from_address': 'f0d044c2-9ddb-4406-87b3-b281fbb27a76',
Â  Â  Â  Â  Â  Â  'to_address': 'ckt1q3vvtay34wndv9nckl8hah6fzzcltcqwcrx79apwp2a5lkd07fdxxqycw877rwy0uuwspsh9cteaf8kqp8nzjl0dxfp',
Â  Â  Â  Â  Â  Â  'token_outpoint': {
Â  Â  Â  Â  Â  Â  Â  Â  'tx_hash': '0x24ec444afe9d44e664214f659109d4ff852dc72c065f0f12dc921a65df6e4b13',
Â  Â  Â  Â  Â  Â  Â  Â  'index': 2
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  'verified_info': {
Â  Â  Â  Â  Â  Â  Â  Â  'is_verified': true,
Â  Â  Â  Â  Â  Â  Â  Â  'verified_title': 'çŸ¥åRapper,Hiphopæ–‡åŒ–æ¨å¹¿è€…',
                'verified_source': 'official'
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  'class_likes': 0
Â  Â  Â  Â  }
Â  Â  ]
}
```
### 5.2 æŸ¥è¯¢ nft type args å¯¹åº”çš„ token

ç›¸å…³æ–‡æ¡£ï¼š[GET /indexer/tokens/{nft_type_args}](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/indexer/get_indexer_tokens__nft_type_args_)

æŸ¥è¯¢å‚æ•°ï¼š

* `nft_type_args` : åœ¨å¯¹åº”çš„ CKB Cell çš„ Type Script ä¸­çš„ args

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
nft_type_args = '0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf0000002900000000'
endpoint = f'/indexer/tokens/{nft_type_args}'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=content)
```
è¿”å›ï¼š
```json
{
    'token': {
        'id': 3271, 
        'uuid': 'db144551-e65f-4dc4-9037-fc017734ef7b', 
        'issuer_id': 1, 
        'token_class_id': 620, 
        'n_issuer_id': '0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf',
        'n_token_id': 0, 
        'version': 0, 
        'configure': 192, 
        'characteristic': '0000000000000000', 
        'n_state': 0, 
        'state': 'committed', 
        'created_at': '2021-07-05T11:40:02.071Z', 
        'updated_at': '2021-07-05T11:40:02.130Z', 
        'oid': '84cbe247c0792718523fecec799b662b', 
        'is_committed': True,
        'verified_info': {
            'is_verified': true,
            'verified_title': 'çŸ¥åRapper,Hiphopæ–‡åŒ–æ¨å¹¿è€…',
            'verified_source': 'official'
        },
    }, 
    'cell': {
        'block_number': 2024829, 
        'out_point': {
            'tx_hash': '0x511af426c9117d5040c05e95538ba3525d806d97f74a0688cbb835023dd30c7e', 
            'index': 1
        }, 
        'output': {
            'capacity': 13400000000, 
            'lock': {
                'code_hash': '0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63', 
                'args': '0x9b67065717f46e887d8b9647571db949beec9933', 
                'hash_type': 'type'
            }, 
            'type': {
                'code_hash': '0xb1837b5ad01a88558731953062d1f5cb547adf89ece01e8934a9f0aeed2d959f', 
                'args': '0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf0000002900000000', 
                'hash_type': 'type'
            }
        }, 
    'output_data': '0x000000000000000000c000', 
    'tx_index': 1
    }
}
```
## 6. è½¬è®©äº¤æ˜“ 

åˆ›ä½œè€…å®Œæˆé“¸é€ å’Œåˆ†å‘ç§˜å®ä¹‹åï¼ŒæŒæœ‰è€…å¯ä»¥é€šè¿‡è‡ªå·±çš„å¯†é’¥ç­¾åå‘èµ·è½¬è®©äº¤æ˜“ã€‚

æ­¤å¤„è¦æ±‚åº”ç”¨çš„å¼€å‘äººå‘˜è‡ªå·±ä½¿ç”¨ CKB çš„ SDK æ¥ç”Ÿæˆåœ°å€ï¼Œå¹¶åœ¨è‡ªå·±çš„ç³»ç»Ÿä¸­å­˜å‚¨å…¬ç§é’¥ï¼ˆé‡‘è‰²ä¼ è¯´å¹³å°ä¸æ¶‰åŠæŒæœ‰äººçš„å¯†é’¥ç®¡ç†ï¼‰ï¼Œå¹¶ä½¿ç”¨å¯†é’¥åœ¨è½¬è´¦äº¤æ˜“ä¸­è¿›è¡Œç­¾åã€‚

### 6.1 ç”Ÿæˆè½¬è®©äº¤æ˜“

ç›¸å…³æ–‡æ¡£ï¼š[GET /tx/token_transfers/new](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/unsigned_tx_generators/get_tx_token_transfers_new)

æŸ¥è¯¢å‚æ•°ï¼š

* `from_address` : token æŒæœ‰è€…çš„åœ°å€ï¼ŒåŒæ—¶ä¹Ÿæ˜¯éœ€è¦å¯¹ç”Ÿæˆäº¤æ˜“ç­¾åçš„ç§é’¥æŒæœ‰è€…
* `to_address` : è½¬è®©äº¤æ˜“çš„ç›®æ ‡åœ°å€ï¼Œä¸€æ—¦è½¬è®©ï¼Œäº¤æ˜“æ— æ³•æ’¤å›
* `token_uuid` : è¦è½¬è®© token çš„ uuid
* `nft_type_args` : token å¯¹åº” cell çš„ type script args
* `token_uuid` å’Œ  `nft_type_args` ä¸¤è€…å¿…é¡»æ»¡è¶³æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
from_address = 'ckt1q3vvtay34wndv9nckl8hah6fzzcltcqwcrx79apwp2a5lkd07fdx83pmv9wj80kf0w5zfym9am9eply253tuu8v5lsn'
to_address = 'ckt1q3vvtay34wndv9nckl8hah6fzzcltcqwcrx79apwp2a5lkd07fdxxqycw877rwy0uuwspsh9cteaf8kqp8nzjl0dxfp'
# nft_type_args = 'cf12d78e-96b9-40d1-b6ca-1d5ff1d87287'
# endpoint = f'/api/v1/tx/token_transfers/new?from_address={from_address}&to_address={to_address}&nft_type_args={nft_type_args}'
token_uuid = 'a46916b6-b180-4020-ab2b-59377fe3d9e9'
endpoint = f'/tx/token_transfers/new?from_address={from_address}&to_address={to_address}&token_uuid={token_uuid}'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=content)
```
è¿”å›ï¼š
```json
{
Â  Â  "unsigned_tx": {
Â  Â  Â  Â  "version": "0x0",
Â  Â  Â  Â  "cell_deps": [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  "out_point": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "tx_hash": "0xbd262c87a84c08ea3bc141700cf55c1a285009de0e22c247a8d9597b4fc491e6",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "index": "0x2"
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  "dep_type": "code"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  "out_point": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "tx_hash": "0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "index": "0x0"
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  "dep_type": "code"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  "out_point": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "tx_hash": "0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "index": "0x0"
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  "dep_type": "code"
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  "out_point": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "tx_hash": "0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "index": "0x0"
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  "dep_type": "dep_group"
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "header_deps": [],
Â  Â  Â  Â  "inputs": [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  "previous_output": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "tx_hash": "0x0e9cad38a05005dff037c5c1df917efe5be53409976405a330ed15e14f939d3b",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "index": "0x0"
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  "since": "0x0",
Â  Â  Â  Â  Â  Â  Â  Â  "capacity": "0x31eb3ba4e",
Â  Â  Â  Â  Â  Â  Â  Â  "lock": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "code_hash": "0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "args": "0xc43b615d23bec97ba8249365eecb90fc8aa457ce",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "hash_type": "type"
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  "type": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "code_hash": "0xb1837b5ad01a88558731953062d1f5cb547adf89ece01e8934a9f0aeed2d959f",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "args": "0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf0000002300000000",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "hash_type": "type"
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "outputs": [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  "capacity": "0x31eb3b450",
Â  Â  Â  Â  Â  Â  Â  Â  "lock": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "code_hash": "0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "args": "0x009871fde1b88fe71d00c2e5c2f3d49ec009e629",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "hash_type": "type"
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  "type": {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "code_hash": "0xb1837b5ad01a88558731953062d1f5cb547adf89ece01e8934a9f0aeed2d959f",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "args": "0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf0000002300000000",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "hash_type": "type"
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "outputs_data": [
Â  Â  Â  Â  Â  Â  "0x000000000000000000c000"
Â  Â  Â  Â  ],
Â  Â  Â  Â  "witnesses": ["0x"]
Â  Â  }
}
```
### 6.2 å¯¹ç­¾ååçš„äº¤æ˜“å‘é€ä¸Šé“¾

ç›¸å…³æ–‡æ¡£ï¼š[POST /tx/token_transfers](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/unsigned_tx_generators/post_tx_token_transfers)

æŸ¥è¯¢å‚æ•°ï¼š

*  `from_address` : NFT token æŒæœ‰è€…åœ°å€ï¼Œä¹Ÿæ˜¯éœ€è¦å¯¹äº¤æ˜“ç­¾åçš„ç§é’¥æŒæœ‰è€…
*  `to_address` : è½¬è®©äº¤æ˜“çš„ç›®æ ‡åœ°å€
*  `nft_type_args` : token å¯¹åº” cell çš„ type script args
*  `token_uuid` : token åœ¨é‡‘è‰²ä¼ è¯´å¹³å°å¯¹åº”çš„å”¯ä¸€ uuid
*  `signed_tx` : ç­¾åå®Œæˆçš„äº¤æ˜“å­—ç¬¦ä¸²

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'POST'
endpoint = '/tx/token_transfers'
content = {
    'from_address': 'ckt1qjda0cr08m85hc8jlnfp3zer7xulejywt49kt2rr0vthywaa50xws7nx9v0ycll73vnzpsc0nvm3rh8jkc5g2a7xm59', 
    'to_address': 'ckt1q3vvtay34wndv9nckl8hah6fzzcltcqwcrx79apwp2a5lkd07fdxxqycw877rwy0uuwspsh9cteaf8kqp8nzjl0dxfp',
    'nft_type_args': '0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf0000003300000002',
    'token_uuid': 'f40588f2-7ed3-468c-afbf-ef92f2ecf99a',
    'signed_tx': '{"version":"0x0","cell_deps":[{"out_point":{"tx_hash":"0xbd262c87a84c08ea3bc141700cf55c1a285009de0e22c247a8d9597b4fc491e6","index":"0x2"},"dep_type":"code"},{"out_point":{"tx_hash":"0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c","index":"0x0"},"dep_type":"code"},{"out_point":{"tx_hash":"0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592","index":"0x0"},"dep_type":"code"},{"out_point":{"tx_hash":"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37","index":"0x0"},"dep_type":"dep_group"}],"header_deps":[],"inputs":[{"previous_output":{"tx_hash":"0x52419c2bf7131908052e7fbed374ca82f3b9a23c091bcfcb487c4ac1c4c90717","index":"0x1"},"since":"0x0"}],"outputs":[{"capacity":"0x31eb3c002","type":{"code_hash":"0xb1837b5ad01a88558731953062d1f5cb547adf89ece01e8934a9f0aeed2d959f","args":"0xf90f9c38b0ea0815156bbc340c910d0a21ee57cf0000003300000002","hash_type":"type"},"lock":{"code_hash":"0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63","args":"0x009871fde1b88fe71d00c2e5c2f3d49ec009e629","hash_type":"type"}}],"outputs_data":["0x000000000000000000c000"],"witnesses":["0x5500000010000000550000005500000041000000c3e23abd5f3fb6350d138c7e25933c1a7e150d6aa75f8c118e55233101052af079ba116a515180252b73e2cbe02a2924118ed710c7e5c5e80c7e5b80258be45800"]}'
}
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=content)
```
è¿”å›ï¼š
```json
{
Â    "tx_hash": "0x8ea665214de0a494f8df0125cbf492e96b2ec1df2cae8569bfe1d27759a3925b",
    "uuid": "396d73ca-f0b2-44ef-93a0-ea0d40e6fdc0"
}
```
 è¿”å›çš„  `tx_hash` ä¸ºè¯¥äº¤æ˜“åœ¨é“¾ä¸Šçš„äº¤æ˜“å“ˆå¸Œï¼Œå¯åœ¨æµè§ˆå™¨å¯¹åº”æŸ¥çœ‹ï¼›  `uuid` å³ä¸ºè¯¥äº¤æ˜“åœ¨é‡‘è‰²ä¼ è¯´å¹³å°å¯¹åº”çš„äº¤æ˜“ idï¼Œé€šè¿‡å…¶ä»–æ¥å£å¯æŸ¥è¯¢äº¤æ˜“çŠ¶æ€ã€‚

### 6.3 æŸ¥è¯¢äº¤æ˜“çŠ¶æ€

ç›¸å…³æ–‡æ¡£ï¼š[GET /tx/token_transfers/{uuid}](https://app.swaggerhub.com/apis/ShiningRay/NftSaasOpenAPI/0.0.1#/unsigned_tx_generators/get_tx_token_transfers__uuid_)

æŸ¥è¯¢å‚æ•°ï¼š

* `uuid` : äº¤æ˜“çš„ tx uuid

ä»£ç ç¤ºä¾‹ï¼š

```python
import requests

key = ''
secret = ''
method = 'GET'
tx_uuid = '75fddac0-7cda-4d9f-a770-56ee8ab6489c'
endpoint = f'/tx/token_transfers/{tx_uuid}'
content = ''
content_type = 'application/json'

url = f'https://goldenlegend.staging.nervina.cn/api/v1{endpoint}'
signature, gmt = get_signature_and_gmt(secret, method, endpoint, content, content_type)
headers = {
    'Content-Type': content_type,
    'Date': gmt,
    'Authorization': f'NFT {key}:{signature}'
}

requests.request(method, url, headers=headers, data=content)
```
è¿”å›ï¼š
```json
{
Â  Â  "from_address": "a2406443-4fbc-4058-ace2-ea2de19bace3",
Â  Â  "to_address": "ckt1qsfy5cxd0x0pl09xvsvkmert8alsajm38qfnmjh2fzfu2804kq47v67zaqf9v82ypv7maevz5h70va4eevpggc8gjyw",
Â  Â  "tx_type": "issue",
Â  Â  "on_chain_timestamp": 1625492143,
Â  Â  "tx_state": "committed",
Â  Â  "issuer_name": "issuer_name",
Â  Â  "issuer_avatar_url": "https://goldenlegend.oss-cn-hangzhou.aliyuncs.com/production/1620901052284.gif",
Â  Â  "class_bg_image_url": "https://oss.jinse.cc/production/c8eb25b0-457c-4ac0-98b8-4308ac465893.png",
Â  Â  "class_name": "Test",
Â  Â  "class_total": "5",
Â  Â  "class_uuid": "c2b0c5fb-6145-485d-995e-dd265b17471d",
Â  Â  "n_token_id": 1
}
```